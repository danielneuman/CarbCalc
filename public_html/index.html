<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
        <script type="text/javascript">
            var app = angular.module('CarbCalc', []);
            app.controller('CalcCtrl', ['$scope', function ($scope) {
                    $scope.unit = 'g';
                    $scope.units = ['g', 'dl']
                    $scope.base_weight = 100;
                    $scope.calc = function () {
                        var result = $scope.amount * ($scope.base_carb / $scope.base_weight);
                        if (isNaN(result)) {
                            return null;
                        } else {
                            return Math.round(result * 100) / 100;
                        }
                    };
                }]);
        </script>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
        <style type="text/css">
            .calc-form {
                max-width: 300px;
            }
            .unit {
                width: 30px;
            }
            .number {
                width: 100px;
            }
        </style>
    </head>
    <body>
        <div ng-app="CarbCalc"
             class="">
            <div ng-controller="CalcCtrl"
                 class="container form-horizontal">

                <div class="form-group">
                    <label class="col-sm-4">Produkt</label>
                    <div class="col-sm-8 row">
                        <div class="col-xs-5">
                            <input type="number"
                                   ng-model="base_carb"
                                   class="form-control input-sm"
                                   placeholder="kolhydrater" />
                        </div>
                        <div class="col-xs-2">/</div>
                        <div class="col-xs-5">
                            <div class="input-group">
                                <input type="number"
                                       ng-model="base_weight"
                                       class="form-control input-sm"/>
                                <div class="input-group-addon">g</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4" for="amount">
                        MÃ¤ngd
                    </label>
                    <div class="col-sm-8">
                        <div class="input-group">
                            <input type="number"
                                   id="amount"
                                   ng-model="amount"
                                   class="form-control input-sm" />
                            <div class="input-group-addon">g</div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <label class="col-sm-4">Kolhydrater totalt</label> 
                    <div class="col-sm-8">
                        <strong ng-bind="calc();" ></strong>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
